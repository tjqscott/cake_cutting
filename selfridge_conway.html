<!DOCTYPE html>
<html>
	<head>
		<title>Cake Cutting Algorithm Visualizations</title>
		<link rel="stylesheet" href="styles.css">
		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	</head>
	<body>
		<div class="aspect-container">
			<div class="blur" onclick="toggleModal()" id="blur"></div>
			<center>
				<div class="container" id="modal">
					<div id="chart_div"></div>
					<div class="controls-container">
						<form onsubmit="event.preventDefault(); addToList();">
							<button type="button" onclick="copyToClipboard(values[agent])">Copy</button>
							<button type="button" onclick="readFromClipboard()">Paste</button>
							<input type="text" pattern="[0-9]*[.,]?[0-9]*" id="numberInput" placeholder="value" required>
							<button style="background-color: green;" type="submit">Insert</button>
							<button style="background-color: red;" type="button" onclick="removeFromList()">Remove</button>
							<button style="background-color: gray;" class="clear-btn" type="button" onclick="clearChart()">Clear</button>
							<button style="background-color: green;" class="clear-btn" type="button" onclick="toggleModal()">Done</button>
						</form>
					</div>
				</div>
				<h1>Cake Cutting Algorithm Visualisations</h1>
				<div id="agent_container">
					<div class="agent_wrapper">
						<img title="Click to edit" onclick="setAgent(0)" src="./assets/agent.png" alt="user icon" class="agent_icon" style="filter: hue-rotate(0deg)">
						<p id="P1">P1</p>
					</div>
					<div class="agent_wrapper">
						<img title="Click to edit" onclick="setAgent(1)" src="./assets/agent.png" alt="user icon" class="agent_icon" style="filter: hue-rotate(60deg)">
						<p id="P2">P2</p>
					</div>
					<div class="agent_wrapper">
						<img title="Click to edit" onclick="setAgent(2)" src="./assets/agent.png" alt="user icon" class="agent_icon" style="filter: hue-rotate(180deg)">
						<p id="P3">P3</p>
					</div>
				</div>
				<div class="input_container hidden">
					<h2>We have a cake which must be shared between three people</h2>
					<h2>Enter your value equation:</h2>
					<input class="input large" title="equation" placeholder="y = 1" type="text">
					<div class="input-group">
						<h2>Start:</h2>
						<input class="input small" title="start" placeholder="0" type="text">
						<h2>End:</h2>
						<input class="input small" title="end" placeholder="10" type="text">
					</div>
				</div>
				<div id="visualization-container">
					<div style="width:70%; aspect-ratio: 2.2; background-image:url(assets/cake.png);
                    background-size: cover; background-position: center; border-radius: 5px;
                    border-width:thick; border-color:white; border-style:solid;"></div>
				</div>
				<img class="controls" onclick="restart()" title="Restart" src="./assets/controls/restart.png">
				<img class="controls" onclick="previous()" title="Previous step" src="./assets/controls/previous.png">
				<img class="controls" onclick="togglePlaying()" id="play/pause" title="Play/ Pause" src="./assets/controls/play.png">
				<img class="controls" onclick="next()" title="Next step" src="./assets/controls/next.png">
				<div id="progress-container">
					<div id="progress-bar"></div>
				</div>
				<br>
				<br>
				<div class="code-container">
					<div id="0" class="row even active">Main cake:</div>
					<div id="1" class="row odd indent">P1 cuts the cake into three pieces they consider of equal size</div>
					<div id="2" class="row even indent">P2 trims their favourite piece, making it equal to their second</div>
					<div id="3" class="row odd indent">P3 chooses their favourite piece that isn't the trimming</div>
					<div id="4" class="row even indent">P2 chooses next but has to take the trimmed piece if P3 didn't</div>
					<div id="5" class="row odd indent">P1 takes the remaining piece just leaving the trimming</div>
					<div id="6" class="row even">Trimming:</div>
					<div id="7" class="row odd indent">We call P1 & P2 PA & PB where PA took the trimmed piece</div>
					<div id="8" class="row even indent">PB cuts the trimming into three piece that they value equally</div>
					<div id="9" class="row odd indent">First, PA chooses their favourite piece of the trimming</div>
					<div id="10" class="row even indent">Then, P1 chooses their favourite of the remaining pieces</div>
					<div id="11" class="row odd indent">Finally, PB gets the last remaining piece of the trimming</div>
					<div id="12" class="row even">Then we can combine the trim assignments to the main ones</div>
				</div>
				<br>
				<br>
				<br>
				<br>
			</center>
		</div>
		<script src="selfridge_conwy.js"></script>
	</body>
</html>