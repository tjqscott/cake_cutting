<!DOCTYPE html>
<html>
<head>
    <title>Cake Cutting Algorithm Visualizations</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body>
    <div class="aspect-container">
        <div class="blur" id="blur"></div>
        <center>
            <h1>Cake Cutting Algorithm Visualisations</h1>

            <div class="container" id="modal">
                <div id="chart_div"></div>
                <div class="controls-container">
                    <form onsubmit="event.preventDefault(); addToList();">
                        <button type="button" onclick="copyToClipboard(values[agent])">Copy</button>
                        <button type="button" onclick="readFromClipboard()">Paste</button>
                        <input type="number" id="numberInput" placeholder="value" required>
                        <button style="background-color: green;" type="submit">Insert</button>
                        <button style="background-color: red;" type="button" onclick="removeFromList()">Remove</button>
                        <button style="background-color: gray;" class="clear-btn" type="button" onclick="clearChart()">Clear</button>
                        <button style="background-color: green;" class="clear-btn" type="button" onclick="toggleModal()">Done</button>
                    </form>
                </div>
            </div>

            <div class="image-container" id="graph1">
                <img title="Click to edit" onclick="agent = 0; toggleModal(); drawChart()" src="agent.png" alt="user icon" style="margin-left:5vh; margin-right:5vh; height:5vh; filter: hue-rotate(0deg)">
            </div>
            <div class="image-container" id="graph2">
                <img title="Click to edit" onclick="agent = 1; toggleModal(); drawChart()" src="agent.png" alt="user icon" style="margin-left:5vh; margin-right:5vh; height:5vh; filter: hue-rotate(60deg)">
            </div>
            <div class="image-container" id="graph3">
                <img title="Click to edit" onclick="agent = 2; toggleModal(); drawChart()" src="agent.png" alt="user icon" style="margin-left:5vh; margin-right:5vh; height:5vh; filter: hue-rotate(180deg)">
            </div>

            <br>

            <div class="input_container hidden">
                <h2>We have a cake which must be shared between three people</h2>
                <h2>Enter your value equation:</h2>
                <input class="input large" title="equation" placeholder="y = 1" type="text">
                
                <div class="input-group">
                    <h2>Start:</h2>
                    <input class="input small" title="start" placeholder="0" type="text">
                    <h2>End:</h2>
                    <input class="input small" title="end" placeholder="10" type="text">
                </div>
            </div>

            <div id="visualization-container">
                <div style="width:70%; aspect-ratio: 2.2; background-image:url(cake.png);
                    background-size: cover; background-position: center; border-radius: 5px;
                    border-width:thick; border-color:white; border-style:solid;">
                </div>
            </div>

            <img class="controls" onclick="restart()" title="Restart" src="restart.png">
            <img class="controls" onclick="previous()" title="Previous step" src="previous.png">
            <img class="controls" title="Play" src="play.png">
            <img class="controls hidden" title="Pause" src="pause.png">
            <img class="controls" onclick="next()" title="Next step" src="next.png">

            <br><br>

            <div class="code-container">
                <div id="0" class="row even active">Main cake:</div>
                <div id="1" class="row odd indent">P1 divides the cake into three pieces they consider of equal size.</div>
                <div id="2" class="row even indent">P2 cuts off a bit of their favourite piece to make it the same size as the second largest.</div>
                <div id="3" class="row odd indent">P3 chooses a piece among A1 and the two other pieces.</div>
                <div id="4" class="row even indent">P2 chooses a piece with the limitation that if P3 didn't choose A1, P2 must choose it.</div>
                <div id="5" class="row odd indent">P1 chooses the last piece leaving just the trimmings A2 to be divided.</div>
                <div id="6" class="row even">Trimming:</div>
                <div id="7" class="row odd indent">We call the player that chose the trimmed piece PA and the other player in {P2, P3} PB.</div>
                <div id="8" class="row even indent">PB cuts A2 into three equal pieces.</div>
                <div id="9" class="row odd indent">PA chooses a piece of A2 - we name it A21.</div>
                <div id="10" class="row even indent">P1 chooses a piece of A2 - we name it A22.</div>
                <div id="11" class="row odd indent">PB chooses the last remaining piece of A2 - we name it A23.</div>
            </div>

            <br><br><br><br>
        </center>
    </div>
    <script src="script.js"></script>
</body>
</html>